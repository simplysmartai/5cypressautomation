# Sales Pipeline Analytics Service

## Overview
Real-time sales pipeline visibility dashboard that tracks KPIs, forecasts revenue, identifies bottlenecks, and generates executive insights. Connects to client's CRM and auto-updates weekly.

## Service Tier

**Monthly Fee:** $600 - $2,000  
**Deliverable:** Google Sheets dashboard + monthly PDF executive summary  
**Agent Template:** Business Analyst + Marketing Attribution Analyst  

---

## Inputs (Client Provides)

### Required
1. **CRM Connection**
   - Platform: `[Salesforce / HubSpot / Pipedrive / Close / Other]`
   - API credentials (read-only access)
   - Account ID / Workspace ID

2. **Sales Process Definition**
   - Deal stages: `[Prospect, Qualification, Proposal, Negotiation, Closed Won/Lost]`
   - Average deal size: `[$10K, $50K, $100K+]`
   - Sales cycle length: `[30, 60, 90 days]`
   - Number of sales team members

3. **Historical Data** (optional but recommended)
   - Last 12 months of closed deals
   - Win/loss rates per stage
   - Average deal progression time

### Optional
- Commission structure (to calculate rep performance)
- Territory / team breakdowns
- Product/service lines to track separately

---

## Dashboard Components

### 1. **Pipeline Health Overview** (Main Sheet)
Real-time snapshot of current pipeline state:

| Metric | Current | Target | Trend | Status |
|--------|---------|--------|-------|--------|
| Total Pipeline Value | $2.4M | $2.5M | â†‘ 5% | On Track |
| Qualified Leads | 24 | 30 | â†“ 8% | At Risk |
| Avg Deal Size | $42K | $50K | â†“ 16% | Review |
| Sales Cycle (avg) | 58 days | 60 days | â†‘ 3% | On Track |
| Win Rate | 34% | 35% | â†“ 2% | Monitor |
| Forecast Accuracy | 78% | 85% | â†‘ 4% | Improving |

**Updated:** Every 24 hours (auto-pull from CRM)

---

### 2. **Stage Breakdown** (Pipeline by Stage)

| Stage | Deal Count | Total Value | Avg Deal | Days in Stage | % of Total |
|-------|-----------|-------------|----------|---------------|-----------|
| Prospect | 45 | $1.2M | $27K | 14 days | 50% |
| Qualification | 12 | $620K | $52K | 21 days | 26% |
| Proposal | 8 | $485K | $61K | 18 days | 20% |
| Negotiation | 2 | $105K | $52K | 9 days | 4% |
| **Total** | **67** | **$2.41M** | **$36K** | **16 days (avg)** | **100%** |

**Insight:** Identify bottlenecks (e.g., "Qualification stage 40% slower than last month")

---

### 3. **Sales Rep Performance** (By Individual)

| Rep | Pipeline | Won (MTD) | Won (YTD) | Win Rate | Quota % | Forecast |
|-----|----------|----------|----------|----------|---------|----------|
| Alice Johnson | $485K | $87K | $520K | 42% | 104% | $520K (Dec) |
| Bob Martinez | $360K | $52K | $280K | 28% | 56% | $360K (Jan) |
| Carol Singh | $420K | $71K | $450K | 36% | 90% | $425K (Dec) |
| **Team Total** | **$2.41M** | **$210K** | **$1.25M** | **34%** | **85%** | **$1.3M (Dec)** |

**Actions:** Identify underperformers for coaching, top performers for promotion

---

### 4. **Forecast & Revenue Projection** (3-Month Rolling)

| Month | Pipeline | Forecast (80% conf.) | Forecast (60% conf.) | Actual | vs. Target |
|-------|----------|----------------------|----------------------|--------|-----------|
| This Month | $2.41M | $780K | $920K | â€” | On Track |
| Next Month | $2.80M | $890K | $1.05M | â€” | Projected +8% |
| Month +2 | $3.10M | $980K | $1.15M | â€” | Projected +12% |

**Use Case:** Board presentations, financing applications, headcount planning

---

### 5. **Deal-by-Deal View** (Detailed)
Hidden by default, drillable:

| Deal ID | Account | Rep | Stage | Value | Entry Date | Days in Stage | Close Date (Predicted) | Win Probability | Notes |
|---------|---------|-----|-------|-------|-----------|----------------|------------------------|-----------------|-------|
| D-001 | Acme Corp | Alice | Negotiation | $75K | Oct 2 | 34 days | Jan 30 | 85% | Waiting on legal |
| D-002 | TechStart | Bob | Proposal | $45K | Oct 15 | 21 days | Feb 5 | 60% | Demo scheduled |
| D-003 | Global Ltd | Carol | Qualification | $120K | Dec 1 | 5 days | Feb 28 | 40% | Initial call pending |

---

### 6. **Bottleneck Analysis** (AI-Generated)

Example insights (auto-generated by Business Analyst):

**ðŸ”´ Critical Issues:**
- Qualification stage taking 35% longer than 3-month avg (21 days vs 15.5 days avg)
- Bob's rep has 4 deals stalled in "Proposal" stage (avg 25 days, should be 14)
- Win rate down 4% MoM (possible pricing/positioning issue)

**ðŸŸ¡ Opportunities:**
- "Prospect â†’ Qualification" velocity up 12% (improve messaging working!)
- Alice consistently closes 3 days faster than team avg
- Deals >$75K have 8% higher win rate

**âœ… What's Working:**
- Negotiation stage shortened from 18 â†’ 12 days (improved closing process)
- New territory generating higher-quality prospects (48% win rate vs 34% avg)

---

### 7. **Historical Trends** (6-Month View)

Line graph + table showing:
- Pipeline value trend
- Win rate trend
- Average sales cycle
- Monthly revenue actual vs forecast

---

## Execution Process

### Step 1: CRM Integration (Orchestration)
1. Authenticate to client's CRM API
2. Fetch all deals, stages, reps, dates
3. Validate data quality (check for missing fields)
4. Map custom fields if needed (client-specific stage names, etc)

### Step 2: Data Transformation (Execution Layer)
- Standardize deal data
- Calculate metrics (days in stage, win probability, forecast accuracy)
- Denormalize for Sheets (flatten nested objects)
- Validate for duplicates/corruption

### Step 3: Analytics (Business Analyst Agent)
- Score each deal's win probability (based on stage, age, size, rep history)
- Identify anomalies (stalled deals, unusual cycle times)
- Generate bottleneck insights
- Project next 90 days revenue

### Step 4: Delivery
- **Real-time:** Google Sheets auto-updates every 24 hours
- **Weekly:** Digest email to sales leadership
- **Monthly:** PDF executive summary (1-pager for board)

### Step 5: Ongoing Tuning
- Monthly check-in call with sales leader
- Validate forecast accuracy (actual vs predicted)
- Adjust win probability model if needed
- Add/remove metrics based on feedback

---

## Template Structure (Google Sheets)

```
â”œâ”€â”€ ðŸ“Š Dashboard (Main overview, KPIs)
â”œâ”€â”€ ðŸ“ˆ Pipeline Stages (Deal flow, bottleneck analysis)
â”œâ”€â”€ ðŸ‘¥ Rep Performance (Individual + team metrics)
â”œâ”€â”€ ðŸ”® Forecast (3-month projection + history)
â”œâ”€â”€ ðŸŽ¯ Deals Detail (All deals, sortable, drillable)
â”œâ”€â”€ ðŸ“‰ Trends (6-month historical data)
â”œâ”€â”€ âš™ï¸ Config (Client settings, exclusions, adjustments)
â””â”€â”€ ðŸ“‹ Metadata (Last updated, data quality score, notes)
```

---

## Success Metrics

| Metric | Target | How Measured |
|--------|--------|-------------|
| Forecast Accuracy | >85% | Actual revenue vs predicted (monthly) |
| Dashboard Update Speed | <1 hour lag | Time from CRM change â†’ Sheets update |
| Adoption Rate | 100% of sales team | Login frequency to dashboard |
| Insight Adoption | >70% | % of recommendations implemented |
| Revenue Impact | +5-15% | Historical: clients see 5-15% pipeline lift from improved visibility |

---

## Execution Checklist

- [ ] CRM API access verified (read-only, secure)
- [ ] Historical data loaded (12+ months for baseline)
- [ ] Google Sheets template created + branded
- [ ] All metrics calculated and validated
- [ ] First dashboard generated and reviewed with client
- [ ] Forecast model tuned to client's historical win rates
- [ ] Automation scheduled (24-hour refresh)
- [ ] Email alerts configured (rep falling behind, stalled deals, etc)
- [ ] Sales team training (how to read, use, interpret)
- [ ] Monthly review process documented

---

## Continuous Improvement Loop

**Weekly:**
- Monitor forecast accuracy (actual vs predicted)
- Flag any data quality issues

**Monthly:**
- Compare insights generated vs actual business outcomes
- Refine win probability model with new closed deals
- Client feedback call (dashboard is helpful? What's missing?)
- Adjust metrics based on feedback

**Quarterly:**
- Deep analysis: which rep behaviors correlate with wins?
- Benchmark vs industry standards
- Recommend sales process improvements based on data

---

## Related Directives
- `directives/lead_research_service.md` - Data source for "Prospect" stage
- `directives/sales-to-qbo.md` - Integration with financial reporting

## Related Execution Scripts
- `execution/sales_analytics_orchestrator.py` - Main CRM connector
- `execution/crm_data_transformer.py` - CRM â†’ Sheets standardization
- `execution/forecast_calculator.py` - Win probability + revenue projection
- `execution/insights_generator.py` - Bottleneck analysis
